<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SpellRightPro Premium</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script src="oet_word_list.js"></script>
</head>
<body class="light-mode">
  <div id="app">
    <button onclick="startOetSession()" class="btn btn-success">Start OET</button>
    <button onclick="startSpellingBeeSession()" class="btn btn-premium">Start Spelling Bee</button>
    
  </div>

  <script>
    const synth = window.speechSynthesis;
    const CHECK_DELAY = 1200;
    const PROCESSING_DELAY = 2500;
    const LISTENING_DELAY = 800;
    let spellingBeeTimeout, recognition;
    let auth, database, currentWords = [], userProgress = {}, currentIndex = 0, score = 0;
    let currentMode = '', isTestMode = false, sessionData = [], flaggedWords = {}, spellingBeeExpectedLetters = "";

    const firebaseConfig = {
      apiKey: "your-api-key",
      authDomain: "your-auth-domain",
      projectId: "your-project-id",
      storageBucket: "your-storage-bucket",
      messagingSenderId: "your-messaging-sender-id",
      appId: "your-app-id"
    };

    firebase.initializeApp(firebaseConfig);
    auth = firebase.auth();
    database = firebase.database();

    document.addEventListener('DOMContentLoaded', () => {
      if (typeof OET_WORD_LIST !== 'undefined') {
        currentWords = OET_WORD_LIST;
      } else {
        currentWords = ["patient", "hospital", "symptom"];
      }
    });

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      const icon = document.querySelector('header .btn-icon i');
      if (icon) {
        icon.classList.toggle('fa-sun');
        icon.classList.toggle('fa-moon');
      }
    }

    function showSummary() {
      let summaryHTML = `<h2>Session Summary</h2><table><thead><tr><th>Word</th><th>Your Answer</th><th>Result</th><th>Flagged</th></tr></thead><tbody>`;
      sessionData.forEach(item => {
        summaryHTML += `<tr>
          <td>${item.word}</td>
          <td>${item.answer || '—'}</td>
          <td class="${item.correct ? 'correct' : 'incorrect'}">${item.correct ? '✔ Correct' : '❌ Incorrect'}</td>
          <td class="${item.flagged ? 'flagged' : ''}">${item.flagged ? '⚠' : ''}</td>
        </tr>`;
      });
      summaryHTML += `</tbody></table>`;
      document.getElementById("scoreDisplay").innerHTML = summaryHTML;
      document.getElementById("scoreDisplay").style.display = "block";
    }
  </script>
</body>
</html>
