<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SpellRightPro - Pricing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <base href="/" />
  <link rel="icon" href="/assets/logo.png">

  <style>
    :root{
      --primary:#098cfb;
      --light:#fff; --light-gray:#f3f4f6;
      --border:#e5e7eb; --gray:#6b7280;
      --promo:#0f9d58;
    }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#111;background:#fafafa}
    .navbar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;border-bottom:1px solid var(--border)}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .brand img{height:34px}

    .pricing-container{max-width:980px;margin:40px auto;padding:0 16px}
    .pricing-hero{text-align:center;padding:24px 0}
    .toggle-container{margin:16px auto;display:flex;justify-content:center;gap:6px}
    .toggle-btn{padding:10px 20px;background:var(--light-gray);border:1px solid var(--border);cursor:pointer;border-radius:10px}
    .toggle-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}

    .pricing-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin:18px 0 28px}
    .pricing-card{background:#fff;border:1px solid var(--border);border-radius:14px;padding:18px 16px;box-shadow:0 1px 6px rgba(0,0,0,.04)}
    .pricing-card.featured{border-color:var(--primary);box-shadow:0 8px 34px rgba(9,140,251,.12)}
    .badge{display:inline-block;background:var(--primary);color:#fff;font-size:.85rem;padding:2px 8px;border-radius:8px;margin-bottom:8px}
    .price{font-size:2rem;font-weight:800;margin:6px 0 14px}
    .price small{font-size:.9rem;font-weight:600;color:var(--gray)}
    .hidden{display:none}

    .btn{display:inline-block;padding:10px 16px;border-radius:10px;text-decoration:none}
    .btn-primary{background:var(--primary);color:#fff}
    .btn-outline{border:1px solid var(--primary);color:var(--primary);background:#fff}

    footer{margin:24px auto 28px;text-align:center;color:#888}
    footer a{color:#098cfb;margin:0 6px;text-decoration:none}
    footer a:hover{text-decoration:underline}

    /* Promo box */
    .promo-box{border:1px solid #d7f1e3;background:#ecfff6;border-radius:14px;padding:14px;margin-bottom:22px;text-align:center}
    .promo-box strong{color:var(--promo)}
    .promo-box #pricing-countdown{font-feature-settings:"tnum";font-variant-numeric:tabular-nums;font-weight:700}
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="brand">
      <img src="/assets/logo.png" alt="SpellRightPro Logo">
      <span>SpellRightPro</span>
    </div>
  </nav>

  <main class="pricing-container">
    <div class="pricing-hero">
      <h1>Choose Your Plan</h1>

      <!-- Promo Announcement -->
      <div id="promo-box" class="promo-box" hidden>
        ðŸŽ‰ <strong>70% OFF</strong> Premium with code <span id="pricing-code">BACK2SCHOOL70</span><br/>
        <small>Hurry! Offer ends in <span id="pricing-countdown">10d 00:00:00</span></small>
      </div>

      <div class="toggle-container" role="tablist" aria-label="Billing period">
        <button class="toggle-btn active" data-plan="monthly" aria-selected="true">Monthly</button>
        <button class="toggle-btn" data-plan="annual" aria-selected="false">Annual (Save 20%)</button>
      </div>
    </div>

    <div class="pricing-grid">
      <div class="pricing-card" aria-labelledby="free-title">
        <h3 id="free-title">Free</h3>
        <div class="price">$0<small>/forever</small></div>
        <ul>
          <li>âœ“ Basic OET/Bee practice</li>
          <li>âœ“ Limited word lists</li>
          <li>âœ— With ads</li>
          <li>âœ— No progress tracking</li>
        </ul>
        <a href="freemium-oet.html" class="btn btn-outline">Start Free</a>
      </div>

      <div class="pricing-card featured" aria-labelledby="premium-title">
        <div class="badge">Most Popular</div>
        <h3 id="premium-title">Premium</h3>
        <div class="price monthly-price">$9<small>/month</small></div>
        <div class="price annual-price hidden">$7<small>/month ($84 billed annually)</small></div>
        <ul>
          <li>âœ“ All exam modes unlocked</li>
          <li>âœ“ Unlimited custom lists</li>
          <li>âœ“ Ad-free experience</li>
          <li>âœ“ Detailed progress tracking</li>
        </ul>
        <a id="pricing-upgrade-btn" href="premium.html" class="btn btn-primary">Get Premium</a>
      </div>
    </div>

    <footer>
      Â© 2025 SpellRightPro Â·
      <a href="terms.html">Terms</a> Â·
      <a href="privacy.html">Privacy</a> Â·
      <a href="refund-policy.html">Refunds</a> Â·
      <a href="contact.html">Contact</a>
    </footer>
  </main>

  <script src="js/promo.js"></script>
  <script>
    // Plan toggling
    document.querySelectorAll('.toggle-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.toggle-btn').forEach(b => {
          b.classList.remove('active');
          b.setAttribute('aria-selected','false');
        });
        btn.classList.add('active');
        btn.setAttribute('aria-selected','true');

        if (btn.dataset.plan === 'annual') {
          document.querySelector('.monthly-price').classList.add('hidden');
          document.querySelector('.annual-price').classList.remove('hidden');
        } else {
          document.querySelector('.annual-price').classList.add('hidden');
          document.querySelector('.monthly-price').classList.remove('hidden');
        }
      });
    });

    // Promo integration
    document.addEventListener('DOMContentLoaded', () => {
      if (window.PROMO?.active()) {
        const box = document.getElementById('promo-box');
        const code = document.getElementById('pricing-code');
        const countdownEl = document.getElementById('pricing-countdown');
        const btn = document.getElementById('pricing-upgrade-btn');

        if (box) box.hidden = false;
        if (code) code.textContent = window.PROMO.code;

        // apply promo URL
        if (btn) {
          if (window.PROMO.checkoutUrl) {
            btn.href = window.PROMO.checkoutUrl;
          } else {
            const u = new URL(btn.href, location.href);
            u.searchParams.set('promo', window.PROMO.code);
            btn.href = u.toString();
          }
        }

        // countdown timer
        function tick() {
          const left = Math.max(0, window.PROMO.endsAt() - Date.now());
          const d = Math.floor(left / 86400000);
          const h = Math.floor((left % 86400000) / 3600000);
          const m = Math.floor((left % 3600000) / 60000);
          const s = Math.floor((left % 60000) / 1000);
          countdownEl.textContent = `${d}d ${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
          if (left <= 0) { box.hidden = true; clearInterval(iv); }
        }
        tick();
        const iv = setInterval(tick, 1000);
      }
    });
  </script>
</body>
</html>
