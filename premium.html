<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SpellRightPro — Premium</title>

  <link rel="stylesheet" href="/css/premium.css"/>
  <link rel="stylesheet" href="/css/styles.css"/>
  <link rel="preload" href="/assets/logo.png" as="image"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

  <!-- Firebase (real config stays in js/config.js) -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore-compat.js"></script>
  <script src="/js/config.js"></script>
</head>
<body data-premium="1">
  <header>
    <button class="nav-btn" onclick="location.href='/index.html'"><i class="fa fa-house"></i> Home</button>
    <button id="darkModeToggle" class="nav-btn"><i class="fa fa-moon"></i></button>
  </header>

  <main>
    <h2>Premium Dashboard</h2>
    <p class="subtitle">Unlimited custom lists, voice & writing evaluation, and detailed summaries.</p>

    <!-- Tabs -->
    <div class="tabs" role="tablist" aria-label="Premium modes">
      <button class="tab active" id="tabBee"   role="tab" aria-selected="true">Bee</button>
      <button class="tab"         id="tabSchool" role="tab" aria-selected="false">School</button>
      <button class="tab"         id="tabOet"    role="tab" aria-selected="false">OET</button>
    </div>

    <!-- Sections -->
    <section id="secBee" class="section active" role="tabpanel" aria-labelledby="tabBee">
      <p class="subtitle">Hands-free spelling with voice recognition. The word will not be shown on screen.</p>
      <div style="margin:10px 0;">
        <textarea id="beeCustom" placeholder="Custom words (comma / new line separated)" style="min-height:140px"></textarea><br/>
        <input type="file" id="beeFile" accept=".txt,.csv"/>
        <button id="beeLoad" class="action"><i class="fa fa-plus"></i> Use Custom List</button>
      </div>
      <div>
        <button id="beeStart" class="action"><i class="fa fa-microphone"></i> Start</button>
        <button id="beeSay"   class="action"><i class="fa fa-volume-high"></i> Say Again</button>
        <button id="beeFlag"  class="action"><i class="fa fa-flag"></i> Flag</button>
        <button id="beeEnd"   class="action"><i class="fa fa-stop"></i> End</button>
      </div>
      <div id="beeProgress"></div>
      <div id="beeFeedback"></div>
      <div id="beeSummary" class="summary"></div>
    </section>

    <section id="secSchool" class="section" role="tabpanel" aria-labelledby="tabSchool">
      <p class="subtitle">Type what you hear. Input clears as soon as you’re marked.</p>
      <div style="margin:10px 0;">
        <textarea id="schoolCustom" placeholder="Custom words" style="min-height:140px"></textarea><br/>
        <input type="file" id="schoolFile" accept=".txt,.csv"/>
        <button id="schoolLoad" class="action"><i class="fa fa-plus"></i> Use Custom List</button>
      </div>
      <div>
        <button id="schoolStart" class="action"><i class="fa fa-play"></i> Start</button>
        <input id="schoolAnswer" type="text" class="form-control" placeholder="Type spelling…"/>
        <button id="schoolSubmit" class="action"><i class="fa fa-check"></i> Submit</button>
        <button id="schoolFlag" class="action"><i class="fa fa-flag"></i> Flag</button>
        <button id="schoolEnd"  class="action"><i class="fa fa-stop"></i> End</button>
      </div>
      <div id="schoolProgress"></div>
      <div id="schoolFeedback"></div>
      <div id="schoolSummary" class="summary"></div>
    </section>

    <section id="secOet" class="section" role="tabpanel" aria-labelledby="tabOet">
      <p class="subtitle">OET healthcare words. Practice = full list; Exam = 24 random.</p>
      <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin:10px 0;">
        <button id="oetPractice" class="action">Practice</button>
        <button id="oetExam" class="action">Exam (24)</button>
      </div>
      <div style="margin:10px 0;">
        <textarea id="oetCustom" placeholder="Custom medical words" style="min-height:140px"></textarea><br/>
        <input type="file" id="oetFile" accept=".txt,.csv"/>
        <button id="oetLoad" class="action"><i class="fa fa-plus"></i> Use Custom List</button>
      </div>
      <div>
        <button id="oetStart" class="action"><i class="fa fa-play"></i> Start</button>
        <input id="oetAnswer" type="text" class="form-control" placeholder="Type spelling…"/>
        <button id="oetSubmit" class="action"><i class="fa fa-check"></i> Submit</button>
        <button id="oetFlag" class="action"><i class="fa fa-flag"></i> Flag</button>
        <button id="oetEnd"  class="action"><i class="fa fa-stop"></i> End</button>
      </div>
      <div id="oetProgress"></div>
      <div id="oetFeedback"></div>
      <div id="oetSummary" class="summary"></div>
    </section>
  </main>

  <!-- Auth overlay is handled by main-premium.js (Google + email/password) -->
  <script src="/js/audio-guards.js"></script>
  <script src="/js/oet_word_list.js" defer></script>
  <script src="/js/main-premium.js"></script>
  <script>
    // Dark mode (remembered)
    (function(){
      const t=document.getElementById('darkModeToggle');
      function apply(){const on=localStorage.getItem('dark')==='true';
        document.body.classList.toggle('dark-mode',on);
        t?.querySelector('i').className=on?'fa fa-sun':'fa fa-moon';}
      t?.addEventListener('click',()=>{const on=!(localStorage.getItem('dark')==='true');localStorage.setItem('dark',on);apply();});
      apply();
    })();
  </script>
</body>
</html>
